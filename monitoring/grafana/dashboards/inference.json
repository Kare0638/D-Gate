{
  "dashboard": {
    "title": "D-Gate Inference",
    "uid": "dgate-inference",
    "panels": [
      {
        "title": "Request Throughput",
        "type": "graph",
        "targets": [
          {"expr": "rate(dgate_requests_total[5m])"}
        ]
      },
      {
        "title": "Inference Latency (p50/p95/p99)",
        "type": "graph",
        "targets": [
          {"expr": "histogram_quantile(0.50, rate(dgate_inference_duration_seconds_bucket[5m]))", "legendFormat": "p50"},
          {"expr": "histogram_quantile(0.95, rate(dgate_inference_duration_seconds_bucket[5m]))", "legendFormat": "p95"},
          {"expr": "histogram_quantile(0.99, rate(dgate_inference_duration_seconds_bucket[5m]))", "legendFormat": "p99"}
        ]
      },
      {
        "title": "VRAM Usage",
        "type": "gauge",
        "targets": [
          {"expr": "dgate_vram_usage_bytes"}
        ]
      },
      {
        "title": "Batch Size Distribution",
        "type": "histogram",
        "targets": [
          {"expr": "dgate_batch_size"}
        ]
      }
    ]
  }
}
